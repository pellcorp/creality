[gcode_macro BED_MESH_CALIBRATE]
rename_existing: _BED_MESH_CALIBRATE
variable_stop_start_camera: False
gcode:
    G4 P1000                                                                        # wait required to prevent MCU overload / inconsistant meshing
    {% if stop_start_camera %}
        STOP_CAMERA
    {% endif %}
    BED_MESH_CLEAR                                                                  # clear current mesh
    G4 P500                                                                         # wait required to prevent MCU overload / inconsistant meshing
    _BED_MESH_CALIBRATE {rawparams}                                                 # start bedmesh calibrate
    G4 P500                                                                         # wait required to prevent MCU overload / inconsistant mesh calculation
    {% if stop_start_camera %}
        START_CAMERA
    {% endif %}
    G4 P1000
